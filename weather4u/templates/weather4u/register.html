{% extends "base.html" %}
{% block content %}
    <div class="flex items-center justify-center min-h-[calc(60vh-12rem)]">
        <div class="bg-gray-50 py-24 sm:py-32 w-full">
            <div class="mx-auto max-w-2xl px-6 lg:max-w-7xl lg:px-8">
                <h2 class="text-center text-base font-semibold text-indigo-600">Join us!</h2>
                <p class="mx-auto mt-2 max-w-lg text-center text-4xl font-semibold tracking-tight sm:text-5xl">
                    Sign up to continue
                </p>

                <div class="mt-8 bg-white w-full max-w-md p-6 rounded-xl shadow-xl mx-auto">
                    <form method="post">
                        {% csrf_token %}
                        {% if form.non_field_errors and request.method == 'POST' %}
                            <div class="mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded">
                                {{ form.non_field_errors }}
                            </div>
                        {% endif %}

                        <div class="space-y-6">

                            <div>
                                <label for="id_username" class="block text-sm font-medium text-gray-700">
                                    Username
                                </label>
                                <input type="text"
                                       name="username"
                                       id="id_username"
                                       required
                                       class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                                       value="{{ form.username.value|default_if_none:'' }}">
                                {% if form.username.errors and request.method == 'POST' %}
                                    <p class="mt-1 text-sm text-red-600">{{ form.username.errors|join:", " }}</p>
                                {% endif %}
                                {% if form.username.help_text %}
                                    <p class="mt-1 text-sm text-gray-500">{{ form.username.help_text|safe }}</p>
                                {% endif %}
                            </div>
                            <div>
                                <label for="id_password1" class="block text-sm font-medium text-gray-700">
                                    Password
                                </label>
                                <input type="password"
                                       name="password1"
                                       id="id_password1"
                                       required
                                       class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                {% if form.password1.errors and request.method == 'POST' %}
                                    <p class="mt-1 text-sm text-red-600">{{ form.password1.errors|join:", " }}</p>
                                {% endif %}
                                {% if form.password1.help_text %}
                                    <p class="mt-1 text-sm text-gray-500">{{ form.password1.help_text|safe }}</p>
                                {% endif %}
                            </div>


                            <div>
                                <label for="id_password2" class="block text-sm font-medium text-gray-700">
                                    Confirm Password
                                </label>
                                <input type="password"
                                       name="password2"
                                       id="id_password2"
                                       required
                                       class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                {% if form.password2.errors and request.method == 'POST' %}
                                    <p class="mt-1 text-sm text-red-600">{{ form.password2.errors|join:", " }}</p>
                                {% endif %}
                                {% if form.password2.help_text %}
                                    <p class="mt-1 text-sm text-gray-500">{{ form.password2.help_text|safe }}</p>
                                {% endif %}
                            </div>

                            <div>
                                <button type="submit"
                                        class="w-full justify-center rounded-md bg-indigo-600 px-4 py-2 text-white font-semibold shadow-md hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    Register
                                </button>
                            </div>
                        </div>
                    </form>

                    <p class="mt-6 text-center text-sm text-gray-500">
                        Already have an account?
                        <a href="{% url 'weather4u:login' %}"
                           class="text-indigo-600 hover:text-indigo-500 font-medium">Sign in</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}